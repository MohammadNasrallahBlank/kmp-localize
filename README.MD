## üåç KMP Localize - A Localization Library for Compose Web (WASM)

**KMP Localize** is a lightweight and developer-friendly localization library built specifically for **Jetpack Compose for Web (WASM)**. It provides a simple `t("key")` API and supports runtime locale switching using idiomatic Compose tools like `CompositionLocal`.

üöÄ Optimized for Kotlin Multiplatform (WASM) ‚Äî not intended for Android or JVM.

Note: Works up until compose-multiplatform = "1.8.0-alpha02"

---

## üì¶ Installation

### Using Maven Central

1. Add Maven Central to your `settings.gradle.kts` (if not already there):

```kotlin
dependencyResolutionManagement {
    repositories {
        mavenCentral()
    }
}
```

2. Add the dependency to your `build.gradle.kts`:

```kotlin
dependencies {
    implementation("io.blankonline.moe:kmp-localize:<version>")
}
```

---

## üöÄ Features

‚úÖ `t("key")` for simple translation access  
‚úÖ Runtime locale switching  
‚úÖ Fully Compose idiomatic with `CompositionLocal`  
‚úÖ Tiny, no dependencies  
‚úÖ Works great with Compose WASM

üìå This library is WASM-only. It does not support Android or JVM.

---

## üîß Usage

### Step 1: Define your translations

```kotlin
val translations = mapOf(
    "en" to mapOf(
        "hello" to "Hello!",
        "welcome" to "Welcome to our app",
        "change_language" to "Change to French"
    ),
    "fr" to mapOf(
        "hello" to "Bonjour !",
        "welcome" to "Bienvenue dans notre application",
        "change_language" to "Passer √† l'anglais"
    )
)
```

---

### Step 2: Wrap your app with `LocalizationProvider`

```kotlin
@Composable
fun App() {
    LocalizationProvider(
        allTranslations = translations,
        initialLocale = "en"
    ) {
        DemoScreen()
    }
}
```

---

### Step 3: Use `t("key")` in your UI

```kotlin
@Composable
fun DemoScreen() {
    val controller = LocalLocalizationController.current
    val currentLocale = LocalLocale.current

    Column {
        Text(t("hello"))
        Text(t("welcome"))

        Button(onClick = {
            val newLocale = if (currentLocale == "en") "fr" else "en"
            controller.setLocale(newLocale)
        }) {
            Text(t("change_language"))
        }
    }
}
```

---

## üß© API Reference

| API | Description |
|-----|-------------|
| `t("key")` | Get the localized string for the current locale |
| `LocalizationProvider(...)` | Provides translations and locale state |
| `LocalLocalizationController.current` | Get the controller to change the locale |
| `LocalLocale.current` | Current active locale string (e.g., `"en"`) |
| `LocalStrings.current` | Raw translation map for the current locale |

---

## üìú License

MIT ‚Äî free for personal and commercial use. Attribution appreciated.

---

## üôå Credits

Built with ‚ù§Ô∏è by [Mohamad](https://github.com/MohammadNasrallahBlank)
